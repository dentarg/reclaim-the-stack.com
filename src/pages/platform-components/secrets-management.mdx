# Secrets Management: Sealed Secrets

In Kubernetes, a [Secret](https://kubernetes.io/docs/concepts/configuration/secret/) is a resource containing base64 encoded data, typically used for storing credentials and other sensitive data. Since we are using GitOps we would preferably be able to put secrets inside our GitOps repository. But doing so in plain text would be somewhat reckless. [Sealed Secrets](https://github.com/bitnami-labs/sealed-secrets) together with the `kubeseal` CLI tool allows encrypting secrets via a controller running inside the Kubernetes cluster so that we can then store the encrypted `SealedSecret` resources directly in git.

We have then taken this a step further by wrapping `kubeseal` with our `k` CLI tool to make secrets management about as easy as it ever was on `heroku`.

### Pros

- Works well with gitops
- Simple and easy to comprehend
- No dependency on third party services

### Cons

- Can't share secrets across clusters
- When changing a single piece of a secret the entire secret payload changes due to the encryption which feels a bit unintuitive and bloaty
- Very time consuming to work with manually (which we solved by additional tooling in `k`)

## Alternatives Considered

We talked a bit about looking at **Hashicorp Vault** but we felt happy with a simple gitops based solution and didn't want to depend on a big third party system if we could help it.
